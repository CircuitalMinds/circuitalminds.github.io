<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Robots -->
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://circuitalminds.herokuapp.com/music">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="Alan Matzumiya">
    <meta name="description" content="Circuital | Minds">

    <!-- Open Graph -->
    <meta property="og:title" content="CircuitalMinds | MusicApp">
    <meta property="og:type" content="website">
    <meta property="og:image"
        content="https://raw.githubusercontent.com/CircuitalMinds/circuitalminds.github.io/main/img/Jungle3.png">
    <meta property="og:url" content="https://circuitalminds.herokuapp.com/music">
    <meta property="og:site_name" content="circuitalminds">
    <meta property="og:description" content="CircuitalMinds">
    <meta property="fb:app_id" content="772020893629559">

    <!-- Metro 4 -->
    <link rel="stylesheet" href="./static/vendors/metro4/css/metro-all.min.css">
    <link rel="stylesheet" href="./static/css/index.css">

    <link rel="shortcut icon" href="./static/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="./static/images/favicon.ico" type="image/x-icon">

    <script src="https://connect.facebook.net/en_US/sdk.js?hash=40244eae9a38309c12186e04d750ee55" async=""
        crossorigin="anonymous"></script>
    <script id="facebook-jssdk" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v3.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
        integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous">
    </script>

    <title>CircuitalMinds | MusicApp</title>

</head>

<body class="h-vh-100 bg-dark fg-teal" style="opacity: 1;" data-new-gr-c-s-check-loaded="8.872.0"
    data-gr-ext-installed="">

        <div data-role="appbar" class="pos-relative bg-grayMouse fg-white app-bar drag-area" data-role-appbar="true">
            
                
        <div class="app-bar-container ml-auto" data-role="draggable">
                <button onclick="if (playMedia.volume > 0.1) {playMedia.setAttribute('data-volume', playMedia.volume - 0.1)} else {playMedia.setAttribute('data-volume', 0)};" class="app-bar-item">
                <span class="mif-volume-minus"></span>
                </button>
                <button onclick="if (playMedia.volume < 0.9) {playMedia.setAttribute('data-volume', playMedia.volume + 0.1)} else {playMedia.setAttribute('data-volume', 1)};" 
                class="app-bar-item"><span class="mif-volume-plus"></span>
                </button>
                <button onclick="endSong('back');" class="app-bar-item">
                    <span class="mif-previous"></span>                    
                </button>
                <button id="stop-play" value="play" onclick="StopPlay(this.value)" class="app-bar-item">
                    <span  class='mif-play'></span>
                </button>
                <button onclick="endSong('up');" class="app-bar-item">
                    <span class="mif-next"></span>
                </button>
                
                <a href="#" class="app-bar-item">
                    <img src="./static/images/Jungle3.png" class="avatar">
                    <span class="ml-2 app-bar-name">CircuitalMinds</span>
                </a>            
            </div>
            <script>
                var videoButton = document.getElementById("stop-play");                
                function StopPlay( status ) {
                if (status == "play") {
                    playMedia.play();
                    videoButton.setAttribute("value", "stop")
                    videoButton.innerHTML ='<span class="mif-stop"></span>';
                    } 
                else {
                    playMedia.pause();
                    videoButton.setAttribute("value", "play");
                    videoButton.innerHTML = '<span class=mif-play></span>';
                    }
                };           
            </script>
        </div>

        <div id="content-wrapper" class="content-inner h-100 bg-dark fg-teal" style="overflow-y: auto">
            <div class="row m-2">

                <div class="cell order-1 bg-dark bd-light">
                    <h3 class="cell card-header" id='play-song'></h3>
                    <button class="cell fg-teal image-button cell" onClick="shareVideo();">
                        <span class="mif-share icon"></span>
                        <span class="caption">Share Video</span>
                    </button>
                    <div class="cell fb-share-button" data-href="https://circuitalminds.herokuapp.com/music"
                        data-layout="button_count">
                    </div>
                    <div class="cell card">
                        <br>
                        <div class="cell card-content">
                            <video class="light fg-cyan" id="play-media" data-aspect-ratio="hd"
                                data-role="video-player" data-loop-icon="<span class='mif-loop2 fg-cyan'></span>"
                                data-mute-icon="<span class='mif-volume-mute2 fg-cyan'></span>"
                                data-volume-low-icon="<span class='mif-volume-low fg-cyan'></span>"
                                data-volume-medium-icon="<span class='mif-volume-medium fg-cyan'></span>"
                                data-volume-high-icon="<span class='mif-volume-high fg-cyan'></span>"
                                data-play-icon="<img src='./static/images/play-icon.png'>"
                                data-stop-icon="<img src='./static/images/player_stop.png'>" data-src=""
                                data-volume="1" data-on-end="endSong('up');">
                            </video>
                        </div>
                    </div>
                </div>

                <div class="cell order-2">
                <div class="cell card">
                    <div data-role="panel" data-title-caption="Video PlayList" data-collapsible="true" data-title-icon="<span class='mif-table'></span>" class="mt-4">
                        <div class="p-4">
                            <table class="table row-hover striped table-border mt-4"
                                    data-role="table"
                                    data-cls-table-top="row"
                                    data-cls-search="cell-md-6"
                                    data-cls-rows-count="cell-md-6"
                                    data-rows="5"                                                                           
                                    data-rows-steps="5, 10"                                       
                                    data-show-activity="true"
                                    data-source="https://raw.githubusercontent.com/CircuitalMinds/circuitalminds.github.io/main/musicApp/music_template_list.json"
                                    data-horizontal-scroll="true">
                            </table>
                        </div>
                    </div>
                </div>
                </div>


            </div>

            <div class="row m-2">

                <div class="cell">
                    <div class="card">
                        <div class="cell card-header p-2">
                            <h3 id="yt-search-label">YouTube Search</h3>
                        </div>
                        <br>
                        <div class="cell card-content text-center row m-1">
                            <input id="yt-search" type="text" class="w-75">
                            <button id="btn-search" onclick="youtubeSearch();"
                                class="button button primary w-25 border bd-gray fg-teal fg-light-hover bg-light bg-teal-hover">Search
                            </button>
                        </div>
                        <div class="cell card-content text-center">
                            <ul class="group-list text-center">
                                <li class="text-center">
                                    <ul class="group-list horizontal text-center">
                                        <li class="text-center"><strong>Video</strong></li>
                                    </ul>
                                </li>
                            </ul>
                            <ul id="search-list" class="group-list text-center"></ul>
                        </div>
                    </div>
                </div>

            </div>

        <div class="row m-2">

            <div class="cell">
                <div data-role="panel"
                    data-title-caption="Members"
                    data-collapsible="true"
                    data-title-icon="<span class='mif-users'></span>"
                    class="card bg-light">
                    <ul class="card-content user-list">

                    <li class="w-25 p-2">
                        <img src="https://avatars.githubusercontent.com/u/25187397?s=460&u=7c5cc8d7030f8d04105f7936c329030b0c3cc768&v=4"
                             class="avatar">
                    </li>
                    <li class="item-header">
                        <div class="text-ellipsis">Alan Matzumiya</div>     
                        <div class="text-small text-muted">Admin</div>   
                    </li> 
                    <li>                
                        <canvas id="criba" style="display: inline-block; max-width: 100%; max-height: 100%;"></canvas>                    
                    </li>
                                        
                    </ul>
                          
                    <div class="cell card-footer p-2 border-top bd-default text-center">
                        <a href="#" class="button bg-light fg-teal">View all users</a>
                    </div>
                </div>            
            </div>
        </div>
        </div>
        
        <div class="w-100 text-center text-small data-box p-2 border-top bd-grayMouse" style="position: relative; bottom: 0">
            
            <div>© 2021 <a href="https://circuitalminds.github.io/" class="text-muted fg-white-hover no-decor">CircuitalMinds</a></div>
        </div>

        <script src="./musicApp/get_music_app.js"></script>
        <script>
            var playList;
            var currentId;
            var currentSong = document.getElementById('play-song');
            var playMedia = document.getElementById('play-media');
            var searchList = document.getElementById("search-list");                

            var audioList;
            var audioId;
            var currentAudio;
            var playAudio;

            let requestURL = 'https://raw.githubusercontent.com/CircuitalMinds/circuitalminds.github.io/main/musicApp/music_data_list.json';
            let requestData = new XMLHttpRequest();
            requestData.open('GET', requestURL);
            requestData.responseType = 'json';
            requestData.send();
            
            requestData.onload = function() {
                const jsonData = requestData.response;
                playList = jsonData['music_data_list'];
                currentId = Math.round(Math.random() * (playList.length - 1));
                playMedia.setAttribute("src", playList[currentId]['video_url']);
                currentSong.innerHTML = playList[currentId]['video_title'];
            };
        </script>

    <!-- jQuery first, then Metro UI JS -->
    <script src="./static/vendors/jquery/jquery-3.4.1.min.js"></script>
    <script src="./static/js/charts.js"></script>
    <script src="./static/vendors/chartjs/Chart.bundle.min.js"></script>
    <script src="./static/vendors/qrcode/qrcode.min.js"></script>
    <script src="./static/vendors/jsbarcode/JsBarcode.all.min.js"></script>
    <script src="./static/vendors/ckeditor/ckeditor.js"></script>
    <script src="./static/vendors/metro4/js/metro.min.js"></script>
    <!-- fractal modules -->
    <script src="./static/js/base/criba.js"></script>
    <div id="fb-root"></div>
    <script async="" defer="" crossorigin="anonymous"
        src="https://connect.facebook.net/es_ES/sdk.js#xfbml=1&amp;version=v9.0" nonce="TwCE2nF9">
    </script>
    <!-- Load Facebook SDK for JavaScript -->
    <script>(function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
</body>
